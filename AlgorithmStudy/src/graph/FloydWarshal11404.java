package graph;

import java.util.Scanner;

public class FloydWarshal11404 {
	public static int [][]d = new int[101][101];
	public static int n;
	public static int m;
	public static final int INF = 999999999;
	public static void main(String[] args) { 
		//?��로이?�� ???�� ?��고리즘을 ?��보자.
		Scanner sc = new Scanner(System.in);
		
		n = sc.nextInt(); //?��?��개수
		m = sc.nextInt(); //버스 ?��

		///////d배열 inf 초기?��//////
		for (int i = 1; i <=n; i++) {
			for (int j = 1; j <= n; j++) {
				if (i!=j) d[i][j] = INF;
				else d[i][j] = 0;
			}	
		}
		////////////?��?��//////////////
		for (int i = 0; i < m; i++) {
			int a = sc.nextInt();
			int b = sc.nextInt();
			int c = sc.nextInt();
			if (d[a][b]>=c) d[a][b] = c;
		}
		floydWarshal();
		for (int i = 1; i <= n; i++) {
			for (int j = 1; j <= n; j++) {
				System.out.print((d[i][j]>= INF?0:d[i][j]) + " ");
			}System.out.println();
		}
		sc.close();
	}
	/////////////////FW////////////////////
	public static void floydWarshal() {
		for (int k = 1; k <= n; k++) {
			for (int i = 1; i <= n; i++) {
				for (int j = 1; j <= n; j++) {
					d[i][j] = Math.min(d[i][j], d[i][k] + d[k][j]);
				}
			}
		}
	}
}
/*
11404�?
?��로이?�� ???��
?���? ?��?��	메모�? ?��?��	?���?	?��?��	맞�? ?��?��	?��?�� 비율
1 �?	256 MB	3848	2452	1915	64.630%
문제
n(1?��n?��100)개의 ?��?���? ?��?��. 
그리�? ?�� ?��?��?��?�� 출발?��?�� ?���? ?��?��?�� ?��착하?��
 m(1?��m?��100,000)개의 버스�? ?��?��.
  �? 버스?�� ?�� �? ?��?��?�� ?�� ?��?��?�� 비용?�� ?��?��.

모든 ?��?��?�� ?�� (A, B)?�� ???��?�� ?��?�� A?��?�� B�? �??��?�� 
?��?��?�� 비용?�� 최소값을 구하?�� ?��로그?��?�� ?��?��?��?��?��.

?��?��
첫째 줄에 ?��?��?�� 개수 n(1?��n?��100)?�� 주어�?�? 
?���? 줄에?�� 버스?�� 개수 m(1?��m?��100,000)?�� 주어진다. 
그리�? ?���? 줄�??�� m+2줄까�? ?��?���? 같�? 버스?�� ?��보�? 주어진다. 
먼�? 처음?��?�� �? 버스?�� 출발 ?��?��?�� 번호�? 주어진다. 
버스?�� ?��보는 버스?�� ?��?�� ?��?�� a, ?���? ?��?�� b, 
?�� �? ???��?�� ?��?��?�� 비용 c�? ?��루어?�� ?��?��. 
?��?�� ?��?��?? ?���? ?��?���? 같�? 경우?�� ?��?��. 
비용?? 100,000보다 ?��거나 같�? ?��?��?��?��?��.

출력
N개의 줄을 출력?��?�� ?��?��.
 i번째 줄에 출력?��?�� j번째 ?��?��?�� ?��?�� i?��?�� j�? �??��?�� 
 ?��?��?�� 최소 비용?��?��. 만약, i?��?�� j�? �? ?�� ?��?�� 경우?��?��
  �? ?��리에 0?�� 출력?��?��.

?��?�� ?��?�� 
5
14
1 2 2
1 3 3
1 4 1
1 5 10
2 4 2
3 4 1
3 5 1
4 5 3
3 5 10
3 1 8
1 4 2
5 1 7
3 4 2
5 2 4
?��?�� 출력 
0 2 3 1 4
12 0 15 2 5
8 5 0 1 1
10 7 13 0 3
7 4 10 6 0
*/


/*	Floyd?�Warshall algorithm.d[i][j]=i�? ?��?��?��?�� j�? ?��?��까�??�� 최단거리.??

	구현
(d 배열?? 무한??�? 초기?��  i==j ?��?��?�� 0)
for (int k=1; k<=V; k++) {
		// k�? ?��?��까�?만을 경유�?�? ?��?�� ?��?�� 최단거리�? 구한?��.
		for (int i=1; i<=V; i++) {
				for (int j=1; j<=V; j++) {
					d[i][j] = min (d[i][j], d[i][k]+d[k][j]);
				}
		}
}
?��?��?�� ?���?

복잡?��?�� O(V^3).
*/


