package bruteforce;
import java.util.Scanner;

public class Tomato {
	public static int [] dx = {0,0,-1,1};
	public static int [] dy = {-1,1,0,0};
	public static int M;
	public static int N;
	public static int[][] box;
	public static int left;
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		M = sc.nextInt();
		N = sc.nextInt();
		box = new int[N][M];
		System.out.println();
		int x = -1;
		int y = -1;
		left = M*N;
		for (int i = 0; i < N; i++) {
			for (int j = 0; j < M; j++) {
				box[i][j] = sc.nextInt();
				if (box[i][j]==1) {
					x=i;
					y=j;
					left--;
				}
				if (box[i][j]==-1) {
					left--;
				}
			}
		}
		solve(x,y,1);
		sc.close();
	}
	public static void solve(int x, int y, int day){
		box[x][y]=1;
		left--;
		for (int i = 0; i < box.length; i++) {
			for (int j = 0; j < box[i].length; j++) {
				System.out.print(box[i][j]+" ");
			}System.out.println();
		}System.out.println();
		if (left==0) {
			System.out.println(day);
		}
		for (int i = 0; i < 4; i++) {
			int nx = x+dx[i];
			int ny = y+dy[i];
			if (nx>=0&&nx<N&&ny>=0&&ny<M&&box[nx][ny]==0) {
				solve(nx, ny, day+1);
			}
		}
	}
}
/*
�ð� ����	�޸� ����	����	����	���� ���	���� ����
1 ��	128 MB	25831	6965	4471	24.851%
����
ö���� �丶�� ���忡���� �丶�並 �����ϴ� ū â�� ������ �ִ�. 
�丶��� �Ʒ��� �׸��� ���� ���� ��� ������ ĭ�� �ϳ��� �־ â�� �����Ѵ�. 
â�� �����Ǵ� �丶��� �߿��� �� ���� �͵� ������, 
���� ���� ���� �丶��鵵 ���� �� �ִ�. ���� �� �Ϸ簡 ������, 
���� �丶����� ������ ���� �ִ� ���� ���� �丶����� ���� �丶���� ������ �޾� �Ͱ� �ȴ�. 
�ϳ��� �丶���� ������ ���� ����, ������, ��, �� �� ���⿡ �ִ� �丶�並 �ǹ��Ѵ�. 
�밢�� ���⿡ �ִ� �丶��鿡�Դ� ������ ���� ���ϸ�, �丶�䰡 ȥ�� ������ �ʹ� ���� ���ٰ� �����Ѵ�. 
ö���� â�� ������ �丶����� ��ĥ�� ������ �� �Ͱ� �Ǵ���, �� �ּ� �ϼ��� �˰� �;� �Ѵ�.

�丶�並 â�� �����ϴ� ���ڸ���� ���ڵ��� ũ��� 
���� �丶���� ���� ���� �丶����� ������ �־����� ��, 
��ĥ�� ������ �丶����� ��� �ʹ���, �� �ּ� �ϼ��� ���ϴ� ���α׷��� �ۼ��϶�. 
��, ������ �Ϻ� ĭ���� �丶�䰡 ������� ���� ���� �ִ�.

�Է�
ù �ٿ��� ������ ũ�⸦ ��Ÿ���� �� ���� M,N�� �־�����. 
M�� ������ ���� ĭ�� ��, N �� ������ ���� ĭ�� ���� ��Ÿ����. 
��, 2 �� M,N �� 1,000 �̴�. ��° �ٺ��ʹ� �ϳ��� ���ڿ� ����� �丶����� ������ �־�����. 
��, ��° �ٺ��� N���� �ٿ��� ���ڿ� ��� �丶���� ������ �־�����. 
�ϳ��� �ٿ��� ���� �����ٿ� ����ִ� �丶���� ���°� M���� ������ �־�����. 
���� 1�� ���� �丶��, ���� 0�� ���� ���� �丶��, ���� -1�� �丶�䰡 ������� ���� ĭ�� ��Ÿ����. 

���
�������� �丶�䰡 ��� ���� �������� �ּ� ��¥�� ����ؾ� �Ѵ�. 
����, ����� ������ ��� �丶�䰡 �;��ִ� �����̸� 0�� ����ؾ� �ϰ�, 
�丶�䰡 ��� ������ ���ϴ� ��Ȳ�̸� -1�� ����ؾ� �Ѵ�.

���� �Է� 
6 4
0 0 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 1
���� ��� 
8*/